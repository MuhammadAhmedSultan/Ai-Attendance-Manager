<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Messages</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  <style>
    body { font-family:"Poppins", sans-serif; background:linear-gradient(135deg,#43cea2,#185a9d); min-height:100vh; display:flex;}
    .sidebar { width:250px; background: rgba(255,255,255,0.15); backdrop-filter: blur(12px); padding:30px 15px; border-radius:0 20px 20px 0; display:flex; flex-direction:column; gap:15px; height:100vh; position:fixed;}
    .sidebar h3 { color:#fff; text-align:center; margin-bottom:20px;}
    .sidebar a { color:#fff; text-decoration:none; padding:10px 15px; border-radius:12px; display:flex; gap:10px; transition:0.3s;}
    .sidebar a:hover { background: rgba(255,255,255,0.25);}
    .main-content { margin-left:250px; flex:1; padding:40px 20px;}
    .card-container { background: rgba(255,255,255,0.15); backdrop-filter: blur(12px); border-radius:15px; color:#fff; padding:20px; box-shadow:0 8px 32px rgba(31,38,135,0.37);}
    table { width:100%; color:#fff;}
    th, td { padding:12px; text-align:left;}
    th { border-bottom:1px solid rgba(255,255,255,0.3);}
    tr:hover { background: rgba(255,255,255,0.1);}
  </style>
</head>
<body>
  <div class="sidebar">
    <h3>Menu</h3>
    <a href="{{ url_for('student_panel') }}"><i class="fas fa-home"></i> Dashboard</a>
    <a href="{{ url_for('student_courses') }}"><i class="fas fa-book"></i> Courses</a>
    <a href="{{ url_for('student_attendance') }}"><i class="fas fa-calendar"></i> Attendance</a>
    <a href="{{ url_for('student_messages') }}"><i class="fas fa-envelope"></i> Messages</a>
    <a href="{{ url_for('logout') }}"><i class="fas fa-sign-out-alt"></i> Logout</a>
  </div>

  <div class="main-content">
    <h2>Messages</h2>
    <div class="card-container">
      <table>
        <thead>
          <tr>
            <th>From</th>
            <th>Subject</th>
            <th>Message</th>
            <th>Date</th>
          </tr>
        </thead>
        <tbody>
          {% if student.messages %}
            {% for msg in student.messages %}
            <tr>
              <td>{{ msg.sender }}</td>
              <td>{{ msg.subject }}</td>
              <td>{{ msg.body }}</td>
              <td>{{ msg.date }}</td>
            </tr>
            {% endfor %}
          {% else %}
            <tr><td colspan="4">No messages yet.</td></tr>
          {% endif %}
        </tbody>
      </table>
    </div>
  </div>
</body>
</html>
